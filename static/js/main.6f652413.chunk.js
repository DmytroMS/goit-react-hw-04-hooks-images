(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={App:"App_App__Bob_-",loaderwrapper:"App_loaderwrapper__27OCK"}},28:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(5),o=a.n(r),i=(a(28),a(14)),s=a(4),u=a(7),l=a(1);function j(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===r.trim())return u.c.warn("Please, specify your search");t(r),o("")},className:"SearchForm",children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var b=function(e){var t=e.image,a=e.toggleModal,n=e.handleSetLargeImageURL,c=e.largeImageURL;return Object(l.jsx)("li",{className:"ImageGalleryItem",children:Object(l.jsx)("img",{src:t.webformatURL,onClick:function(e){a(),n({largeImageURL:c})},alt:"",className:"ImageGalleryItem-image"})})},m=function(e){var t=e.images,a=e.toggleModal,n=e.handleSetLargeImageURL;return Object(l.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(l.jsx)(b,{image:e,toggleModal:a,largeImageURL:e.largeImageURL,handleSetLargeImageURL:n},e.id)}))})};var g=function(e){var t=e.onLoadMore;return Object(l.jsx)("button",{className:"Button",type:"button",onClick:t,children:"Load more"})},d=document.querySelector("#modal-root");function h(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(l.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(l.jsx)("div",{className:"Modal",children:a})}),d)}var p=a(12),f=a.n(p);f.a.defaults.baseURL="https://pixabay.com/api/";var O=a(23),x=a.n(O),v=a(13),S=a.n(v);a(68);function y(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),b=o[0],d=o[1],p=Object(n.useState)(!1),O=Object(s.a)(p,2),v=O[0],y=O[1],L=Object(n.useState)(""),w=Object(s.a)(L,2),I=w[0],N=w[1],k=Object(n.useState)(1),R=Object(s.a)(k,2),C=R[0],U=R[1],_=Object(n.useState)(!1),E=Object(s.a)(_,2),F=E[0],M=E[1];Object(n.useEffect)((function(){""!==a.trim()&&(U(1),d([]),A({nextQuery:a,page:C}))}),[a]),Object(n.useEffect)((function(){1!==C&&A({nextQuery:a,page:C})}),[C]);var A=function(e){(function(e){var t=e.nextQuery,a=e.page;return f.a.get("?image_type=photo&orientation=horizontal&q=".concat(t,"&page=").concat(a,"&per_page=12&key=").concat("23079700-bbc75e3a6b7c3c448487aea29")).then((function(e){return e.data.hits}))})({nextQuery:e.nextQuery,page:e.page}).then((function(e){d((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}))})).then((function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return console.log("error")}))},Q=function(){y((function(){return!v}))},B=b.length>0&&!F;return Object(l.jsxs)("div",{className:S.a.App,children:[Object(l.jsx)(j,{onSubmit:function(e){c(e)}}),Object(l.jsx)(u.b,{position:"top-right",transition:u.a,autoClose:3e3,theme:"dark"}),Object(l.jsx)(m,{images:b,toggleModal:Q,handleSetLargeImageURL:function(e){N(e)}}),B&&Object(l.jsx)(g,{onLoadMore:function(){M(!0),U((function(e){return e+1})),M(!1)}}),Object(l.jsx)("div",{className:S.a.loaderwrapper,children:F&&Object(l.jsx)(x.a,{type:"Rings",color:"#00BFFF",height:100,width:100,timeout:3e3})}),v&&Object(l.jsx)(h,{onClose:Q,children:Object(l.jsx)("img",{src:I,alt:""})})]})}o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.6f652413.chunk.js.map